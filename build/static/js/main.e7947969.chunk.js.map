{"version":3,"sources":["components/Note.js","components/Notification.js","components/Footer.js","components/LoginForm.js","components/NoteForm.js","components/Togglable.js","services/notes.js","services/login.js","App.js","index.js"],"names":["Note","note","toggleImportance","label","important","className","content","onClick","Notification","message","Footer","style","color","fontStyle","fontSize","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","onSubmit","value","onChange","type","NoteForm","createNote","useState","newNote","setNewNote","event","preventDefault","Math","random","target","Togglable","props","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","buttonLabel","children","baseUrl","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","update","id","put","setToken","newToken","login","credentials","App","notes","setNotes","showAll","setShowAll","errorMessage","setErrorMessage","setUsername","setPassword","user","setUser","useEffect","noteService","initialNotes","loggedUserJSON","window","localStorage","getItem","JSON","parse","handleLogin","loginService","setItem","stringify","setTimeout","addNote","noteObject","returnedNote","concat","notesToShow","filter","name","map","find","n","changedNote","catch","error","toggleImportanceOf","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e7947969.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Note = ({ note, toggleImportance }) => {\r\n  const label = note.important\r\n    ? 'make not important' : 'make important'\r\n\r\n  return (\r\n    <li className='note'>\r\n      {note.content} \r\n      <button onClick={toggleImportance}>{label}</button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Note","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Footer = () => {\r\n  const footerStyle = {\r\n    color: 'green',\r\n    fontStyle: 'italic',\r\n    fontSize: 16\r\n  }\r\n\r\n  return (\r\n    <div style={footerStyle}>\r\n      <br />\r\n      <em>Note app, Department of Computer Science, University of Helsinki 2021</em>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer","import React from \"react\"\r\n\r\nconst LoginForm = ({\r\n\thandleSubmit,\r\n\thandleUsernameChange,\r\n\thandlePasswordChange,\r\n\tusername,\r\n\tpassword,\r\n}) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Login</h2>\r\n\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tusername\r\n\t\t\t\t\t<input value={username} onChange={handleUsernameChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tpassword\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={handlePasswordChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button type=\"submit\">login</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default LoginForm\r\n","import React, { useState } from \"react\"\r\n\r\nconst NoteForm = ({ createNote }) => {\r\n\tconst [newNote, setNewNote] = useState(\"\")\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tsetNewNote(event.target.value)\r\n\t}\r\n\r\n\tconst addNote = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tcreateNote({\r\n\t\t\tcontent: newNote,\r\n\t\t\timportant: Math.random() > 0.5,\r\n\t\t})\r\n\r\n\t\tsetNewNote(\"\")\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Create a new note</h2>\r\n\r\n\t\t\t<form onSubmit={addNote}>\r\n\t\t\t\t<input value={newNote} onChange={handleChange} />\r\n\t\t\t\t<button type=\"submit\">save</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default NoteForm\r\n","import React, { useState } from \"react\"\r\n\r\nconst Togglable = (props) => {\r\n\tconst [visible, setVisible] = useState(false)\r\n\r\n\tconst hideWhenVisible = { display: visible ? \"none\" : \"\" }\r\n\tconst showWhenVisible = { display: visible ? \"\" : \"none\" }\r\n\r\n\tconst toggleVisibility = () => {\r\n\t\tsetVisible(!visible)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div style={hideWhenVisible}>\r\n\t\t\t\t<button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n\t\t\t</div>\r\n\t\t\t<div style={showWhenVisible}>\r\n\t\t\t\t{props.children}\r\n\t\t\t\t<button onClick={toggleVisibility}>cancel</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Togglable\r\n","import axios from \"axios\"\r\nconst baseUrl = \"/api/notes\"\r\n\r\nlet token = null\r\n\r\nconst setToken = (newToken) => {\r\n\ttoken = `bearer ${newToken}`\r\n}\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl)\r\n\treturn request.then((response) => response.data)\r\n}\r\n\r\nconst create = async (newObject) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: token },\r\n\t}\r\n\r\n\tconst response = await axios.post(baseUrl, newObject, config)\r\n\treturn response.data;\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\r\n\treturn request.then((response) => response.data)\r\n}\r\n\r\nexport default {\r\n\tgetAll,\r\n\tcreate,\r\n\tupdate,\r\n  setToken\r\n}\r\n","import axios from \"axios\"\r\nconst baseUrl = \"/api/login\"\r\n\r\nconst login = async (credentials) => {\r\n\tconst response = await axios.post(baseUrl, credentials)\r\n\treturn response.data\r\n}\r\n\r\nexport default { login }\r\n","import React, { useState, useEffect } from \"react\"\r\nimport Note from \"./components/Note\"\r\nimport Notification from \"./components/Notification\"\r\nimport Footer from \"./components/Footer\"\r\nimport LoginForm from \"./components/LoginForm\"\r\nimport NoteForm from \"./components/NoteForm\"\r\nimport Togglable from \"./components/Togglable\"\r\nimport noteService from \"./services/notes\"\r\nimport loginService from \"./services/login\"\r\n\r\nconst App = () => {\r\n\tconst [notes, setNotes] = useState([])\r\n\tconst [showAll, setShowAll] = useState(false)\r\n\tconst [errorMessage, setErrorMessage] = useState(null)\r\n\tconst [username, setUsername] = useState(\"\")\r\n\tconst [password, setPassword] = useState(\"\")\r\n\tconst [user, setUser] = useState(null)\r\n\tconst [loginVisible, setLoginVisible] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tnoteService.getAll().then((initialNotes) => {\r\n\t\t\tsetNotes(initialNotes)\r\n\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst loggedUserJSON = window.localStorage.getItem(\"loggedNoteappUser\")\r\n\t\tif (loggedUserJSON) {\r\n\t\t\tconst user = JSON.parse(loggedUserJSON)\r\n\t\t\tsetUser(user)\r\n\t\t\tnoteService.setToken(user.token)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst handleLogin = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst user = await loginService.login({\r\n\t\t\t\tusername,\r\n\t\t\t\tpassword,\r\n\t\t\t})\r\n\r\n\t\t\twindow.localStorage.setItem(\r\n\t\t\t\t\"loggedNoteappUser\",\r\n\t\t\t\tJSON.stringify(user)\r\n\t\t\t)\r\n\t\t\tnoteService.setToken(user.token)\r\n\t\t\tsetUser(user)\r\n\t\t\tsetUsername(\"\")\r\n\t\t\tsetPassword(\"\")\r\n\t\t} catch (exception) {\r\n\t\t\tsetErrorMessage(\"Wrong credentials\")\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetErrorMessage(null)\r\n\t\t\t}, 5000)\r\n\t\t}\r\n\t}\r\n\r\n\tconst addNote = (noteObject) => {\r\n\t\tnoteService.create(noteObject).then((returnedNote) => {\r\n\t\t\tsetNotes(notes.concat(returnedNote))\r\n\t\t})\r\n\t}\r\n\r\n\tconst toggleImportanceOf = (id) => {\r\n\t\tconst note = notes.find((n) => n.id === id)\r\n\t\tconst changedNote = { ...note, important: !note.important }\r\n\r\n\t\tnoteService\r\n\t\t\t.update(id, changedNote)\r\n\t\t\t.then((returnedNote) => {\r\n\t\t\t\tsetNotes(\r\n\t\t\t\t\tnotes.map((note) => (note.id !== id ? note : returnedNote))\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessage(\r\n\t\t\t\t\t`Note '${note.content}' was already removed from server`\r\n\t\t\t\t)\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetErrorMessage(null)\r\n\t\t\t\t}, 5000)\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst loginForm = () => {\r\n\t\tconst hideWhenVisible = { display: loginVisible ? \"none\" : \"\" }\r\n\t\tconst showWhenVisible = { display: loginVisible ? \"\" : \"none\" }\r\n\r\n\t\treturn (\r\n\t\t\t<Togglable buttonLabel=\"log in\">\r\n\t\t\t\t<LoginForm\r\n\t\t\t\t\tusername={username}\r\n\t\t\t\t\tpassword={password}\r\n\t\t\t\t\thandleUsernameChange={({ target }) =>\r\n\t\t\t\t\t\tsetUsername(target.value)\r\n\t\t\t\t\t}\r\n\t\t\t\t\thandlePasswordChange={({ target }) =>\r\n\t\t\t\t\t\tsetPassword(target.value)\r\n\t\t\t\t\t}\r\n\t\t\t\t\thandleSubmit={handleLogin}\r\n\t\t\t\t/>\r\n\t\t\t</Togglable>\r\n\t\t)\r\n\t}\r\n\r\n\tconst noteForm = () => (\r\n\t\t<Togglable buttonLabel=\"new note\">\r\n\t\t\t<NoteForm createNote={addNote} />\r\n\t\t</Togglable>\r\n\t)\r\n\tconst notesToShow = showAll ? notes : notes.filter((note) => note.important)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1> Notes </h1>\r\n\t\t\t<Notification message={errorMessage} />\r\n\t\t\t{user === null ? (\r\n\t\t\t\tloginForm()\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Hello {user.name}!</p>\r\n\t\t\t\t\t{noteForm()}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<button onClick={() => setShowAll(!showAll)}>\r\n\t\t\t\t\tshow {showAll ? \"all\" : \"important\"}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<ul>\r\n\t\t\t\t{notesToShow.map((note) => (\r\n\t\t\t\t\t<Note\r\n\t\t\t\t\t\tkey={note.id}\r\n\t\t\t\t\t\tnote={note}\r\n\t\t\t\t\t\ttoggleImportance={() => toggleImportanceOf(note.id)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\r\n\t\t\t<Footer />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","import ReactDOM from 'react-dom'\r\nimport App from './App.js'\r\nimport './index.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}